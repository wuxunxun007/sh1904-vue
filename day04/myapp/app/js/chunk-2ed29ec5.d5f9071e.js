(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ed29ec5"],{"014b":function(t,e,i){"use strict";var n=i("e53d"),s=i("07e3"),o=i("8e60"),a=i("63b6"),r=i("9138"),u=i("ebfd").KEY,c=i("294c"),l=i("dbdb"),h=i("45f2"),f=i("62a0"),d=i("5168"),p=i("ccb9"),m=i("6718"),v=i("47ee"),g=i("9003"),b=i("e4ae"),k=i("f772"),S=i("241e"),y=i("36c3"),x=i("1bc3"),w=i("aebd"),O=i("a159"),C=i("0395"),F=i("bf0b"),j=i("9aa9"),T=i("d9f6"),I=i("c3a1"),_=F.f,$=T.f,E=C.f,M=n.Symbol,N=n.JSON,z=N&&N.stringify,B="prototype",D=d("_hidden"),P=d("toPrimitive"),A={}.propertyIsEnumerable,L=l("symbol-registry"),V=l("symbols"),q=l("op-symbols"),R=Object[B],U="function"==typeof M&&!!j.f,X=n.QObject,Y=!X||!X[B]||!X[B].findChild,W=o&&c(function(){return 7!=O($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=_(R,e);n&&delete R[e],$(t,e,i),n&&t!==R&&$(R,e,n)}:$,K=function(t){var e=V[t]=O(M[B]);return e._k=t,e},H=U&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Q=function(t,e,i){return t===R&&Q(q,e,i),b(t),e=x(e,!0),b(i),s(V,e)?(i.enumerable?(s(t,D)&&t[D][e]&&(t[D][e]=!1),i=O(i,{enumerable:w(0,!1)})):(s(t,D)||$(t,D,w(1,{})),t[D][e]=!0),W(t,e,i)):$(t,e,i)},Z=function(t,e){b(t);var i,n=v(e=y(e)),s=0,o=n.length;while(o>s)Q(t,i=n[s++],e[i]);return t},J=function(t,e){return void 0===e?O(t):Z(O(t),e)},G=function(t){var e=A.call(this,t=x(t,!0));return!(this===R&&s(V,t)&&!s(q,t))&&(!(e||!s(this,t)||!s(V,t)||s(this,D)&&this[D][t])||e)},tt=function(t,e){if(t=y(t),e=x(e,!0),t!==R||!s(V,e)||s(q,e)){var i=_(t,e);return!i||!s(V,e)||s(t,D)&&t[D][e]||(i.enumerable=!0),i}},et=function(t){var e,i=E(y(t)),n=[],o=0;while(i.length>o)s(V,e=i[o++])||e==D||e==u||n.push(e);return n},it=function(t){var e,i=t===R,n=E(i?q:y(t)),o=[],a=0;while(n.length>a)!s(V,e=n[a++])||i&&!s(R,e)||o.push(V[e]);return o};U||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===R&&e.call(q,i),s(this,D)&&s(this[D],t)&&(this[D][t]=!1),W(this,t,w(1,i))};return o&&Y&&W(R,t,{configurable:!0,set:e}),K(t)},r(M[B],"toString",function(){return this._k}),F.f=tt,T.f=Q,i("6abf").f=C.f=et,i("355d").f=G,j.f=it,o&&!i("b8e3")&&r(R,"propertyIsEnumerable",G,!0),p.f=function(t){return K(d(t))}),a(a.G+a.W+a.F*!U,{Symbol:M});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),st=0;nt.length>st;)d(nt[st++]);for(var ot=I(d.store),at=0;ot.length>at;)m(ot[at++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return s(L,t+="")?L[t]:L[t]=M(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!U,"Object",{create:J,defineProperty:Q,defineProperties:Z,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:it});var rt=c(function(){j.f(1)});a(a.S+a.F*rt,"Object",{getOwnPropertySymbols:function(t){return j.f(S(t))}}),N&&a(a.S+a.F*(!U||c(function(){var t=M();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){var e,i,n=[t],s=1;while(arguments.length>s)n.push(arguments[s++]);if(i=e=n[1],(k(e)||void 0!==t)&&!H(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!H(e))return e}),n[1]=e,z.apply(N,n)}}),M[B][P]||i("35e8")(M[B],P,M[B].valueOf),h(M,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},"0395":function(t,e,i){var n=i("36c3"),s=i("6abf").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return s(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?r(t):s(n(t))}},"0b9f":function(t,e,i){},"0fc9":function(t,e,i){var n=i("3a38"),s=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?s(t+e,0):o(t,e)}},"15e2":function(t,e,i){},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1e74":function(t,e,i){},"241e":function(t,e,i){var n=i("25eb");t.exports=function(t){return Object(n(t))}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"268f":function(t,e,i){t.exports=i("fde4")},"32a6":function(t,e,i){var n=i("241e"),s=i("c3a1");i("ce7e")("keys",function(){return function(t){return s(n(t))}})},"32fc":function(t,e,i){var n=i("e53d").document;t.exports=n&&n.documentElement},"335c":function(t,e,i){var n=i("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"36c3":function(t,e,i){var n=i("335c"),s=i("25eb");t.exports=function(t){return n(s(t))}},"3a38":function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},"3cbd":function(t,e,i){},4569:function(t,e,i){"use strict";var n=i("10eb"),s=i("1f85"),o=i("7231"),a=i("d6f8"),r=i("7d02"),u=Object(n["a"])("swipe"),c=u[0],l=u[1];e["a"]=c({mixins:[o["a"],Object(a["a"])(function(t,e){t(window,"resize",this.onResize,!0),e?this.initialize():this.clear()})],props:{width:Number,height:Number,autoplay:Number,vertical:Boolean,initialSwipe:Number,indicatorColor:String,loop:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},duration:{type:Number,default:500}},data:function(){return{computedWidth:0,computedHeight:0,offset:0,active:0,deltaX:0,deltaY:0,swipes:[],swiping:!1}},watch:{swipes:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t?this.autoPlay():this.clear()}},computed:{count:function(){return this.swipes.length},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",i=this.vertical?"width":"height";return t={},t[e]=this.trackSize+"px",t[i]=this[i]?this[i]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}},minOffset:function(){var t=this.$el.getBoundingClientRect();return(this.vertical?t.height:t.width)-this.size*this.count}},methods:{initialize:function(t){if(void 0===t&&(t=this.initialSwipe),clearTimeout(this.timer),this.$el){var e=this.$el.getBoundingClientRect();this.computedWidth=this.width||e.width,this.computedHeight=this.height||e.height}this.swiping=!0,this.active=t,this.offset=this.count>1?-this.size*this.active:0,this.swipes.forEach(function(t){t.offset=0}),this.autoPlay()},onResize:function(){this.initialize(this.activeIndicator)},onTouchStart:function(t){this.touchable&&(this.clear(),this.swiping=!0,this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(Object(s["c"])(t,!0),this.move({offset:this.delta})))},onTouchEnd:function(){if(this.touchable&&this.swiping){if(this.delta&&this.isCorrectDirection){var t=this.vertical?this.offsetY:this.offsetX;this.move({pace:t>0?this.delta>0?-1:1:0,emitChange:!0})}this.swiping=!1,this.autoPlay()}},getTargetActive:function(t){var e=this.active,i=this.count;return t?this.loop?Object(r["a"])(e+t,-1,i):Object(r["a"])(e+t,0,i-1):e},getTargetOffset:function(t,e){var i=t*this.size;this.loop||(i=Math.min(i,-this.minOffset));var n=Math.round(e-i);return this.loop||(n=Object(r["a"])(n,this.minOffset,0)),n},move:function(t){var e=t.pace,i=void 0===e?0:e,n=t.offset,s=void 0===n?0:n,o=t.emitChange,a=this.loop,r=this.count,u=this.active,c=this.swipes,l=this.trackSize,h=this.minOffset;if(!(r<=1)){var f=this.getTargetActive(i),d=this.getTargetOffset(f,s);if(a){if(c[0]){var p=d<h;c[0].offset=p?l:0}if(c[r-1]){var m=d>0;c[r-1].offset=m?-l:0}}this.active=f,this.offset=d,o&&f!==u&&this.$emit("change",this.activeIndicator)}},swipeTo:function(t){var e=this;this.swiping=!0,this.resetTouchStatus(),this.correctPosition(),setTimeout(function(){e.swiping=!1,e.move({pace:t%e.count-e.active,emitChange:!0})},30)},correctPosition:function(){this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e&&this.count>1&&(this.clear(),this.timer=setTimeout(function(){t.swiping=!0,t.resetTouchStatus(),t.correctPosition(),setTimeout(function(){t.swiping=!1,t.move({pace:1,emitChange:!0}),t.autoPlay()},30)},e))},renderIndicator:function(){var t=this,e=this.$createElement,i=this.count,n=this.activeIndicator,s=this.slots("indicator");return s||(this.showIndicators&&i>1?e("div",{class:l("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(i)).map(function(i,s){return e("i",{class:l("indicator",{active:s===n}),style:s===n?t.indicatorStyle:null})})]):void 0)}},render:function(t){return t("div",{class:l()},[t("div",{ref:"track",style:this.trackStyle,class:l("track"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots()]),this.renderIndicator()])}})},"45f2":function(t,e,i){var n=i("d9f6").f,s=i("07e3"),o=i("5168")("toStringTag");t.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},"47ee":function(t,e,i){var n=i("c3a1"),s=i("9aa9"),o=i("355d");t.exports=function(t){var e=n(t),i=s.f;if(i){var a,r=i(t),u=o.f,c=0;while(r.length>c)u.call(t,a=r[c++])&&e.push(a)}return e}},5168:function(t,e,i){var n=i("dbdb")("wks"),s=i("62a0"),o=i("e53d").Symbol,a="function"==typeof o,r=t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:s)("Symbol."+t))};r.store=n},"51e3":function(t,e,i){},5400:function(t,e,i){},5559:function(t,e,i){var n=i("dbdb")("keys"),s=i("62a0");t.exports=function(t){return n[t]||(n[t]=s(t))}},"5b4e":function(t,e,i){var n=i("36c3"),s=i("b447"),o=i("0fc9");t.exports=function(t){return function(e,i,a){var r,u=n(e),c=s(u.length),l=o(a,c);if(t&&i!=i){while(c>l)if(r=u[l++],r!=r)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===i)return t||l||0;return!t&&-1}}},"62a0":function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},6718:function(t,e,i){var n=i("e53d"),s=i("584a"),o=i("b8e3"),a=i("ccb9"),r=i("d9f6").f;t.exports=function(t){var e=s.Symbol||(s.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:a.f(t)})}},6878:function(t,e,i){"use strict";var n=i("5bdc"),s=i("10eb"),o=Object(s["a"])("swipe-item"),a=o[0],r=o[1];e["a"]=a({data:function(){return{offset:0}},beforeCreate:function(){this.$parent.swipes.push(this)},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},render:function(t){var e=this.$parent,i=e.vertical,s=e.computedWidth,o=e.computedHeight,a={width:s+"px",height:i?o+"px":"100%",transform:"translate"+(i?"Y":"X")+"("+this.offset+"px)"};return t("div",{class:r(),style:a,on:Object(n["a"])({},this.$listeners)},[this.slots()])}})},"6abf":function(t,e,i){var n=i("e6f3"),s=i("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},"6b4c":function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},7578:function(t,e,i){},"7d02":function(t,e,i){"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}i.d(e,"a",function(){return n})},"7e90":function(t,e,i){var n=i("d9f6"),s=i("e4ae"),o=i("c3a1");t.exports=i("8e60")?Object.defineProperties:function(t,e){s(t);var i,a=o(e),r=a.length,u=0;while(r>u)n.f(t,i=a[u++],e[i]);return t}},8248:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"container"},[i("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":"分享","left-arrow":""},on:{"click-left":t.back,"click-right":t.share}}),i("div",{staticClass:"content"},[t._v("\n      "+t._s(t.title)+"\n      "),i("Rating",{attrs:{rating:(t.rating/2).toFixed(1)}}),t._v("\n      "+t._s(this.$store.getters.len)+" --- "+t._s(t.len)+"\n    ")],1)],1),i("van-goods-action",[i("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"},on:{click:t.chat}}),i("van-goods-action-icon",{attrs:{info:"5",icon:"cart-o",text:"购物车"},on:{click:t.goCart}}),i("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"},on:{click:t.goShop}}),i("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addCart}}),i("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.buy}})],1),i("van-sku",{attrs:{"stepper-title":"我要买",sku:t.sku,goods:t.goods,"show-add-cart-btn":"","reset-stepper-on-hide":"","initial-sku":t.initialSku},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},s=[],o=i("cebc"),a=(i("d6fc"),i("fc1c")),r=(i("4e9f"),i("5cc58"),i("58bb"),i("44c3"),i("7578"),i("5400"),i("15e2"),i("1e74"),i("7a87"),i("a724"),i("3cbd"),i("5bdc")),u=i("2b0e"),c=i("10eb"),l=i("4660"),h=i("41af"),f=Object(c["a"])("popup"),d=f[0],p=f[1],m=d({mixins:[h["a"]],props:{transition:String,duration:{type:Number,default:null},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(i){return t.$emit(e,i)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(t){var e;if(this.shouldRender){var i=this.position,n=this.duration,s=this.transition||("center"===i?"van-fade":"van-popup-slide-"+i),o={};return Object(l["b"])(n)&&(o.transitionDuration=n+"s"),t("transition",{attrs:{name:s},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:o,class:p((e={},e[i]=i,e)),on:{click:this.onClick}},[this.slots()])])}}}),v=i("a33e"),g=i("23c4"),b=i.n(g),k=i("7d02"),S=i("1f85"),y=i("7231"),x=i("8ecc"),w=i("4569"),O=i("6878"),C=Object(c["a"])("image-preview"),F=C[0],j=C[1];function T(t){return Math.sqrt(Math.abs((t[0].clientX-t[1].clientX)*(t[0].clientY-t[1].clientY)))}var I,_=F({mixins:[h["a"],y["a"],x["a"]],props:{images:Array,className:null,lazyLoad:Boolean,asyncClose:Boolean,startPosition:Number,showIndicators:Boolean,loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3},overlayClass:{type:String,default:"van-image-preview__overlay"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return this.bindStatus=!1,{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,active:0}},computed:{imageStyle:function(){var t=this.scale,e={transition:this.zooming||this.moving?"":".3s all"};return 1!==t&&(e.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),e}},watch:{value:function(){this.active=this.startPosition},startPosition:function(t){this.active=t}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){Object(S["c"])(t);var e=new Date-this.touchStartTime,i=this.$refs.swipe||{},n=i.offsetX,s=void 0===n?0:n,o=i.offsetY,a=void 0===o?0:o;if(e<300&&s<10&&a<10){var r=this.active;this.resetScale(),this.$emit("close",{index:r,url:this.images[r]}),this.asyncClose||this.$emit("input",!1)}},startMove:function(t){var e=t.currentTarget,i=e.getBoundingClientRect(),n=window.innerWidth,s=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(i.width-n)/2),this.maxMoveY=Math.max(0,(i.height-s)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=T(t.touches)},onImageTouchStart:function(t){var e=t.touches,i=this.$refs.swipe||{},n=i.offsetX,s=void 0===n?0:n;1===e.length&&1!==this.scale?this.startMove(t):2!==e.length||s||this.startZoom(t)},onImageTouchMove:function(t){var e=t.touches;if((this.moving||this.zooming)&&Object(S["c"])(t,!0),this.moving){this.touchMove(t);var i=this.deltaX+this.startMoveX,n=this.deltaY+this.startMoveY;this.moveX=Object(k["a"])(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(k["a"])(n,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var s=T(e),o=this.startScale*s/this.startDistance;this.scale=Object(k["a"])(o,this.minZoom,this.maxZoom)}},onImageTouchEnd:function(t){if(this.moving||this.zooming){var e=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),e&&Object(S["c"])(t,!0)}},onSwipeChange:function(t){this.resetScale(),this.active=t,this.$emit("change",t)},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0}},render:function(t){var e=this;if(this.value){var i=this.active,n=this.images,s=this.showIndex&&t("div",{class:j("index")},[this.slots("index")||i+1+"/"+n.length]),o=t(w["a"],{ref:"swipe",attrs:{loop:this.loop,indicatorColor:"white",initialSwipe:this.startPosition,showIndicators:this.showIndicators},on:{change:this.onSwipeChange}},[n.map(function(n,s){var o={class:j("image"),style:s===i?e.imageStyle:null,on:{touchstart:e.onImageTouchStart,touchmove:e.onImageTouchMove,touchend:e.onImageTouchEnd,touchcancel:e.onImageTouchEnd}};return t(O["a"],[e.lazyLoad?t("img",b()([{directives:[{name:"lazy",value:n}]},o])):t("img",b()([{attrs:{src:n}},o]))])})]);return t("transition",{attrs:{name:"van-fade"}},[t("div",{class:[j(),this.className],on:{touchstart:this.onWrapperTouchStart,touchMove:S["c"],touchend:this.onWrapperTouchEnd,touchcancel:this.onWrapperTouchEnd}},[s,o])])}}}),$={images:[],loop:!0,value:!0,minZoom:1/3,maxZoom:3,className:"",lazyLoad:!1,showIndex:!0,asyncClose:!1,startPosition:0,showIndicators:!1,closeOnPopstate:!1},E=function(){I=new(u["a"].extend(_))({el:document.createElement("div")}),document.body.appendChild(I.$el),I.$on("change",function(t){I.onChange&&I.onChange(t)})},M=function(t,e){if(void 0===e&&(e=0),!l["d"]){I||E();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(r["a"])(I,$,i),I.$once("input",function(t){I.value=t}),i.onClose&&I.$once("close",i.onClose),I}};M.install=function(){u["a"].use(_)};var N=M,z=i("da98"),B=i("acff"),D=Object(c["a"])("sku-header"),P=D[0],A=D[1];function L(t,e){var i=e.s1;if(i){var n=t.tree.filter(function(t){return"s1"===t.k_s})[0]||{};if(n.v){var s=n.v.filter(function(t){return t.id===i})[0];if(s)return s.imgUrl||s.img_url}}}function V(t,e,i,n){var s=e.sku,o=e.goods,a=e.skuEventBus,r=e.selectedSku,u=L(s,r)||o.picture,c=function(){a.$emit("sku:previewImage",u)};return t("div",b()([{class:[A(),"van-hairline--bottom"]},Object(z["b"])(n)]),[t("div",{class:A("img-wrap"),on:{click:c}},[t("img",{attrs:{src:u}})]),t("div",{class:A("goods-info")},[t("div",{class:"van-sku__goods-name van-ellipsis"},[o.title]),i.default&&i.default(),t(B["a"],{attrs:{name:"close"},class:"van-sku__close-icon",on:{click:function(){a.$emit("sku:close")}}})])])}V.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object};var q=P(V),R=Object(c["a"])("sku-row"),U=R[0],X=R[1];function Y(t,e,i,n){return t("div",b()([{class:X()},Object(z["b"])(n)]),[t("div",{class:X("title")},[e.skuRow.k,"："]),i.default&&i.default()])}Y.props={skuRow:Object};var W=U(Y),K={QUOTA_LIMIT:0,STOCK_LIMIT:1},H="",Q={LIMIT_TYPE:K,UNSELECTED_SKU_VALUE_ID:H},Z=function(t){var e={};return t.forEach(function(t){e[t.k_s]=t.v}),e},J=function(t,e){var i=Object.keys(e).filter(function(t){return e[t]!==H});return t.length===i.length},G=function(t,e){var i=t.filter(function(t){return Object.keys(e).every(function(i){return String(t[i])===String(e[i])})});return i[0]},tt=function(t,e){var i=Z(t);return Object.keys(e).reduce(function(t,n){var s=i[n],o=e[n];if(o!==H){var a=s.filter(function(t){return t.id===o})[0];a&&t.push(a)}return t},[])},et=function(t,e,i){var n,s=i.key,o=i.valueId,a=Object(r["a"])({},e,(n={},n[s]=o,n)),u=Object.keys(a).filter(function(t){return a[t]!==H}),c=t.filter(function(t){return u.every(function(e){return String(a[e])===String(t[e])})}),l=c.reduce(function(t,e){return t+=e.stock_num,t},0);return l>0},it={normalizeSkuTree:Z,getSkuComb:G,getSelectedSkuValues:tt,isAllSelected:J,isSkuChoosable:et},nt=Object(c["a"])("sku-row-item"),st=nt[0],ot=st({props:{skuList:Array,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object},computed:{choosable:function(){return et(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",Object(r["a"])({},this.skuValue,{skuKeyStr:this.skuKeyStr}))}},render:function(t){var e=this.skuValue.id===this.selectedSku[this.skuKeyStr];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":e,"van-sku-row__item--disabled":!this.choosable}],on:{click:this.onSelect}},[this.skuValue.name])}}),at=i("b189"),rt=Object(c["a"])("stepper"),ut=rt[0],ct=rt[1],lt=600,ht=200,ft=ut({props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:[String,Number],buttonSize:[String,Number],asyncChange:Boolean,disableInput:Boolean,min:{type:[String,Number],default:1},max:{type:[String,Number],default:1/0},step:{type:[String,Number],default:1},defaultValue:{type:[String,Number],default:1}},data:function(){var t=this.range(Object(l["b"])(this.value)?this.value:this.defaultValue);return t!==+this.value&&this.$emit("input",t),{currentValue:t}},computed:{minusDisabled:function(){return this.disabled||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.currentValue>=this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=Object(at["a"])(this.inputWidth)),this.buttonSize&&(t.height=Object(at["a"])(this.buttonSize)),t},buttonStyle:function(){var t={};if(this.buttonSize){var e=Object(at["a"])(this.buttonSize);t.width=e,t.height=e}return t}},watch:{value:function(t){t!==this.currentValue&&(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t)}},methods:{format:function(t){return t=String(t).replace(/[^0-9.-]/g,""),""===t?0:this.integer?Math.floor(t):+t},range:function(t){return Math.max(Math.min(this.max,this.format(t)),this.min)},onInput:function(t){var e=t.target.value,i=this.format(e);this.asyncChange?(t.target.value=this.currentValue,this.$emit("input",i),this.$emit("change",i)):(+e!==i&&(t.target.value=i),this.currentValue=i)},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,i=Math.round(100*(this.currentValue+e))/100;this.asyncChange?(this.$emit("input",i),this.$emit("change",i)):this.currentValue=this.range(i),this.$emit(t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.currentValue=this.range(this.currentValue),this.$emit("blur",t),0===this.currentValue&&(t.target.value=this.currentValue)},longPressStep:function(){var t=this;this.longPressTimer=setTimeout(function(){t.onChange(t.type),t.longPressStep(t.type)},ht)},onTouchStart:function(t){var e=this;clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout(function(){e.isLongPress=!0,e.onChange(),e.longPressStep()},lt)},onTouchEnd:function(t){clearTimeout(this.longPressTimer),this.isLongPress&&t.preventDefault()}},render:function(t){var e=this,i=function(t){return{on:{click:function(){e.type=t,e.onChange()},touchstart:function(){e.type=t,e.onTouchStart(t)},touchend:e.onTouchEnd,touchcancel:e.onTouchEnd}}};return t("div",{class:ct()},[t("button",b()([{style:this.buttonStyle,class:ct("minus",{disabled:this.minusDisabled})},i("minus")])),t("input",{attrs:{type:"number",role:"spinbutton","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue,disabled:this.disabled||this.disableInput},class:ct("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),t("button",b()([{style:this.buttonStyle,class:ct("plus",{disabled:this.plusDisabled})},i("plus")]))])}}),dt=Object(c["a"])("sku-stepper"),pt=dt[0],mt=K.QUOTA_LIMIT,vt=K.STOCK_LIMIT,gt=pt({props:{quota:Number,quotaUsed:Number,hideStock:Boolean,skuEventBus:Object,skuStockNum:Number,selectedSku:Object,selectedNum:Number,stepperTitle:String,hideQuotaText:Boolean,selectedSkuComb:Object,disableStepperInput:Boolean,customStepperConfig:Object},data:function(){return{currentNum:this.selectedNum,limitType:vt}},watch:{currentNum:function(t){this.skuEventBus.$emit("sku:numChange",t)},stepperLimit:function(t){t<this.currentNum&&(this.currentNum=t)}},computed:{stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.skuStockNum},stockText:function(){var t=this.customStepperConfig.stockFormatter;return t?t(this.stock):"剩余"+this.stock+"件"},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText,i=t.hideQuotaText;if(i)return"";var n="";return e?n=e:this.quota>0&&(n="每人限购"+this.quota+"件"),n},stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=mt):(t=this.stock,this.limitType=vt),t}},methods:{setCurrentNum:function(t){this.currentNum=t},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed})},onChange:function(t){var e=this.customStepperConfig.handleStepperChange;e&&e(t),this.$emit("change",t)}},render:function(t){var e=this;return t("div",{class:"van-sku-stepper-stock"},[t("div",{class:"van-sku-stepper-container"},[t("div",{class:"van-sku__stepper-title"},[this.stepperTitle||"购买数量","："]),t(ft,{class:"van-sku__stepper",attrs:{max:this.stepperLimit,disableInput:this.disableStepperInput},on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:e.currentNum,callback:function(t){e.currentNum=t}}})]),!this.hideStock&&t("div",{class:"van-sku__stock"},[this.stockText]),!this.hideQuotaText&&this.quotaText&&t("div",{class:"van-sku__quota"},[this.quotaText])])}}),bt=i("cf2c"),kt=i("6135"),St=i("80da");function yt(t){var e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return e.test(t)}var xt=i("c328"),wt=i("75c4");function Ot(t){return Array.isArray(t)?t:[t]}function Ct(t,e){return new Promise(function(i){var n=new FileReader;n.onload=function(t){i(t.target.result)},"dataUrl"===e?n.readAsDataURL(t):"text"===e&&n.readAsText(t)})}function Ft(t,e){return Ot(t).some(function(t){return t.size>e})}var jt=i("5bd9"),Tt=Object(c["a"])("uploader"),It=Tt[0],_t=Tt[1];function $t(t){return 0===t.indexOf("data:image")}var Et=It({inheritAttrs:!1,model:{prop:"fileList"},props:{fileList:Array,disabled:Boolean,uploadText:String,afterRead:Function,beforeRead:Function,previewSize:[Number,String],name:{type:[String,Number],default:""},previewImage:{type:Boolean,default:!0},accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE},maxCount:{type:Number,default:Number.MAX_VALUE}},computed:{detail:function(){return{name:this.name}}},methods:{onChange:function(t){var e=this,i=t.target.files;if(!this.disabled&&i.length){if(i=1===i.length?i[0]:[].slice.call(i),this.beforeRead){var n=this.beforeRead(i,this.detail);if(!n)return void this.resetInput();if(n.then)return void n.then(function(){e.readFile(i)}).catch(this.resetInput)}this.readFile(i)}},readFile:function(t){var e=this,i=Ft(t,this.maxSize);if(Array.isArray(t)){var n=this.maxCount-this.fileList.length;t.length>n&&(t=t.slice(0,n)),Promise.all(t.map(function(t){return Ct(t,e.resultType)})).then(function(n){var s=t.map(function(t,e){return{file:t,content:n[e]}});e.onAfterRead(s,i)})}else Ct(t,this.resultType).then(function(n){e.onAfterRead({file:t,content:n},i)})},onAfterRead:function(t,e){e?this.$emit("oversize",t,this.detail):(this.resetInput(),this.$emit("input",[].concat(this.fileList,Ot(t))),this.afterRead&&this.afterRead(t,this.detail))},onDelete:function(t,e){var i=this.fileList.slice(0);i.splice(e,1),this.$emit("input",i),this.$emit("delete",t)},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")},onPreviewImage:function(t){var e=this.fileList.map(function(t){return t.content}).filter(function(t){return $t(t)});N({images:e,startPosition:e.indexOf(t.content)})},renderPreview:function(){var t=this,e=this.$createElement;if(this.previewImage)return this.fileList.map(function(i,n){return e("div",{class:_t("preview")},[e(jt["a"],{attrs:{fit:"cover",src:i.content,width:t.previewSize,height:t.previewSize},class:_t("preview-image"),scopedSlots:{error:function(){return[e(B["a"],{class:_t("file-icon"),attrs:{name:"description"}}),e("div",{class:[_t("file-name"),"van-ellipsis"]},[i.file.name])]}},on:{click:function(){$t(i.content)&&t.onPreviewImage(i)}}}),e(B["a"],{attrs:{name:"delete"},class:_t("preview-delete"),on:{click:function(){t.onDelete(i,n)}}})])})},renderUpload:function(){var t=this.$createElement;if(!(this.fileList.length>=this.maxCount)){var e,i=this.slots(),n=t("input",{attrs:Object(r["a"])({},this.$attrs,{type:"file",accept:this.accept,disabled:this.disabled}),ref:"input",class:_t("input"),on:{change:this.onChange}});if(i)return t("div",{class:_t("input-wrapper")},[i,n]);if(this.previewSize){var s=Object(at["a"])(this.previewSize);e={width:s,height:s}}return t("div",{class:_t("upload"),style:e},[t(B["a"],{attrs:{name:"plus"},class:_t("upload-icon")}),this.uploadText&&t("span",{class:_t("upload-text")},[this.uploadText]),n])}}},render:function(t){return t("div",{class:_t()},[t("div",{class:_t("wrapper")},[this.renderPreview(),this.renderUpload()])])}}),Mt=Object(c["a"])("sku-img-uploader"),Nt=Mt[0],zt=Mt[1],Bt=Nt({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{paddingImg:""}},computed:{imgList:function(){return this.value&&!this.paddingImg?[this.value]:[]}},methods:{afterReadFile:function(t){var e=this;this.paddingImg=t.content,this.uploadImg(t.file,t.content).then(function(t){e.$emit("input",t),e.$nextTick(function(){e.paddingImg=""})}).catch(function(){e.paddingImg=""})},onOversize:function(){this.$toast("最大可上传图片为"+this.maxSize+"MB，请尝试压缩图片尺寸")}},render:function(t){var e=this,i=this.imgList,n=this.paddingImg,s=(n||i.length>0)&&t("div",{class:"van-clearfix"},[i.map(function(i){return t("div",{class:zt("img")},[t("img",{attrs:{src:i}}),t(B["a"],{attrs:{name:"clear"},class:zt("delete"),on:{click:function(){e.$emit("input","")}}})])}),n&&t("div",{class:zt("img")},[t("img",{attrs:{src:n}}),t(wt["a"],{attrs:{type:"spinner"},class:zt("uploading")})])]);return t("div",{class:zt()},[t(Et,{attrs:{disabled:!!n,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize}},[t("div",{class:zt("header")},[n?t("div",["正在上传..."]):[t(B["a"],{attrs:{name:"photograph"}}),t("span",{class:"label"},[this.value?"重拍":"拍照"," 或 "]),t(B["a"],{attrs:{name:"photo"}}),t("span",{class:"label"},[this.value?"重新选择照片":"选择照片"])]])]),s])}}),Dt=Object(c["a"])("sku-messages"),Pt=Dt[0],At=Dt[1],Lt={id_no:"输入身份证号码",text:"输入文本",tel:"输入数字",email:"输入邮箱",date:"点击选择日期",time:"点击选择时间",textarea:"点击填写段落文本",mobile:"输入手机号码"},Vt=Pt({props:{messages:Array,messageConfig:Object,goodsId:[Number,String]},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){return(t||[]).map(function(){return{value:""}})},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime-local":t.type},getMessages:function(){var t=this,e={};return this.messageValues.forEach(function(i,n){var s=i.value;t.messages[n].datetime>0&&(s=s.replace(/T/g," ")),e["message_"+n]=s}),e},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach(function(i,n){var s=i.value,o=t.messages[n];o.datetime>0&&(s=s.replace(/T/g," ")),e[o.name]=s}),e},getPlaceholder:function(t){var e=1===+t.multiple?"textarea":t.type,i=this.messageConfig.placeholderMap||{};return i[e]||Lt[e]},validateMessages:function(){for(var t=this.messageValues,e=0;e<t.length;e++){var i=t[e].value,n=this.messages[e];if(""===i){if("1"===String(n.required)){var s="image"===n.type?"请上传":"请填写";return s+n.name}}else{if("tel"===n.type&&!Object(xt["a"])(i))return"请填写正确的数字格式留言";if("mobile"===n.type&&!/^\d{6,20}$/.test(i))return"手机号长度为6-20位数字";if("email"===n.type&&!yt(i))return"请填写正确的邮箱";if("id_no"===n.type&&(i.length<15||i.length>18))return"请填写正确的身份证号码"}}}},render:function(t){var e=this;return t(kt["a"],{class:At()},[this.messages.map(function(i,n){return"image"===i.type?t(bt["a"],{class:At("image-cell"),attrs:{label:"仅限一张",title:i.name,required:"1"===String(i.required)},key:e.goodsId+"-"+n},[t(Bt,{attrs:{uploadImg:e.messageConfig.uploadImg,maxSize:e.messageConfig.uploadMaxSize},model:{value:e.messageValues[n].value,callback:function(t){e.messageValues[n].value=t}}})]):t(St["a"],{attrs:{maxlength:"200",label:i.name,required:"1"===String(i.required),placeholder:e.getPlaceholder(i),type:e.getType(i)},key:e.goodsId+"-"+n,model:{value:e.messageValues[n].value,callback:function(t){e.messageValues[n].value=t}}})})])}}),qt=i("5d31"),Rt=Object(c["a"])("sku-actions"),Ut=Rt[0],Xt=Rt[1];function Yt(t,e,i,n){var s=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",b()([{class:Xt()},Object(z["b"])(n)]),[e.showAddCartBtn&&t(qt["a"],{attrs:{square:!0,size:"large",type:"warning",text:e.addCartText||"加入购物车"},on:{click:s("sku:addCart")}}),t(qt["a"],{attrs:{square:!0,size:"large",type:"danger",text:e.buyText||"立即购买"},on:{click:s("sku:buy")}})])}Yt.props={buyText:String,addCartText:String,skuEventBus:Object,showAddCartBtn:Boolean};var Wt=Ut(Yt),Kt=Object(c["a"])("sku"),Ht=Kt[0],Qt=K.QUOTA_LIMIT,Zt=Ht({props:{sku:Object,goods:Object,quota:Number,value:Boolean,buyText:String,addCartText:String,quotaUsed:Number,goodsId:[Number,String],hideStock:Boolean,hideQuotaText:Boolean,stepperTitle:String,getContainer:Function,customSkuValidator:Function,closeOnClickOverlay:Boolean,disableStepperInput:Boolean,resetStepperOnHide:Boolean,resetSelectedSkuOnHide:Boolean,initialSku:{type:Object,default:function(){return{}}},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}},customStepperConfig:{type:Object,default:function(){return{}}}},data:function(){return{selectedSku:{},selectedNum:1,show:this.value}},watch:{show:function(t){if(this.$emit("input",t),!t){var e=tt(this.sku.tree,this.selectedSku);this.$emit("sku-close",{selectedSkuValues:e,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku(this.skuTree)}},value:function(t){this.show=t},skuTree:function(t){this.resetSelectedSku(t)}},computed:{skuGroupClass:function(){return["van-sku-group-container","van-hairline--bottom",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){return J(this.sku.tree,this.selectedSku)},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},selectedSkuComb:function(){return this.hasSku?this.isSkuCombSelected?G(this.sku.list,this.selectedSku):null:{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num}},price:function(){return this.selectedSkuComb?(this.selectedSkuComb.price/100).toFixed(2):this.sku.price},skuTree:function(){return this.sku.tree||[]},imageList:function(){var t=[this.goods.picture];if(this.skuTree.length>0){var e=this.skuTree.filter(function(t){return"s1"===t.k_s})[0]||{};if(!e.v)return t;e.v.forEach(function(e){var i=e.imgUrl||e.img_url;i&&t.push(i)})}return t}},created:function(){var t=new u["a"];this.skuEventBus=t,t.$on("sku:close",this.onClose),t.$on("sku:select",this.onSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(this.skuTree),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,i=Object(l["b"])(e)?e:1;t?t.setCurrentNum(i):this.selectedNum=i},resetSelectedSku:function(t){var e=this;this.selectedSku={},t.forEach(function(t){e.selectedSku[t.k_s]=e.initialSku[t.k_s]||H}),t.forEach(function(t){var i=t.k_s,n=t.v[0].id;1===t.v.length&&et(e.sku.list,e.selectedSku,{key:i,valueId:n})&&(e.selectedSku[i]=n)})},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return"商品已经无法购买啦";if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return"请先选择商品规格"},onClose:function(){this.show=!1},onSelect:function(t){var e,i;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(r["a"])({},this.selectedSku,(e={},e[t.skuKeyStr]=H,e)):Object(r["a"])({},this.selectedSku,(i={},i[t.skuKeyStr]=t.id,i)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,i=this.imageList.findIndex(function(e){return e===t}),n={index:i,imageList:this.imageList,indexImage:t};this.$emit("open-preview",n),N({images:this.imageList,startPosition:i,onClose:function(){e.$emit("close-preview",n)}})},onOverLimit:function(t){var e=t.action,i=t.limitType,n=t.quota,s=t.quotaUsed,o=this.customStepperConfig.handleOverLimit;if(o)o(t);else if("minus"===e)Object(v["a"])("至少选择一件");else if("plus"===e)if(i===Qt){var a="限购"+n+"件";s>0&&(a+="，你已购买"+s+"件"),Object(v["a"])(a)}else Object(v["a"])("库存不足")},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){var e=this.validateSku();e?Object(v["a"])(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb,messages:this.getSkuMessages(),cartMessages:this.getSkuCartMessages()}}},render:function(t){var e=this;if(!this.isSkuEmpty){var i=this.sku,n=this.goods,s=this.price,o=this.skuEventBus,a=this.selectedSku,r=this.selectedNum,u=this.stepperTitle,c=this.hideQuotaText,l=this.selectedSkuComb,h={price:s,selectedNum:r,skuEventBus:o,selectedSku:a,selectedSkuComb:l},f=function(t){return e.slots(t,h)},d=f("sku-header")||t(q,{attrs:{sku:i,goods:n,skuEventBus:o,selectedSku:a}},[f("sku-header-price")||t("div",{class:"van-sku__goods-price"},[t("span",{class:"van-sku__price-symbol"},["￥"]),t("span",{class:"van-sku__price-num"},[s])])]),p=f("sku-group")||this.hasSku&&t("div",{class:this.skuGroupClass},[this.skuTree.map(function(e){return t(W,{attrs:{skuRow:e}},[e.v.map(function(n){return t(ot,{attrs:{skuList:i.list,skuValue:n,selectedSku:a,skuEventBus:o,skuKeyStr:e.k_s}})})])})]),v=f("sku-stepper")||t(gt,{ref:"skuStepper",attrs:{quota:this.quota,hideStock:this.hideStock,quotaUsed:this.quotaUsed,skuEventBus:o,selectedNum:r,selectedSku:a,stepperTitle:u,skuStockNum:i.stock_num,hideQuotaText:c,selectedSkuComb:l,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig},on:{change:function(t){e.$emit("stepper-change",t)}}}),g=f("sku-messages")||t(Vt,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:i.messages}}),b=f("sku-actions")||t(Wt,{attrs:{buyText:this.buyText,skuEventBus:o,addCartText:this.addCartText,showAddCartBtn:this.showAddCartBtn}});return t(m,{attrs:{position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay},class:"van-sku-container",model:{value:e.show,callback:function(t){e.show=t}}},[d,t("div",{class:"van-sku-body",style:this.bodyStyle},[f("sku-body-top"),p,f("extra-sku-group"),v,g]),b])}}});Zt.SkuActions=Wt,Zt.SkuHeader=q,Zt.SkuMessages=Vt,Zt.SkuStepper=gt,Zt.SkuRow=W,Zt.SkuRowItem=ot,Zt.skuHelper=it,Zt.skuConstants=Q;var Jt=Zt,Gt=(i("f41d"),Object(c["a"])("goods-action")),te=Gt[0],ee=Gt[1];function ie(t,e,i,n){return t("div",b()([{class:ee({"safe-area-inset-bottom":e.safeAreaInsetBottom})},Object(z["b"])(n,!0)]),[i.default&&i.default()])}ie.props={safeAreaInsetBottom:Boolean};var ne=te(ie),se=(i("51e3"),i("e57a")),oe=Object(c["a"])("goods-action-icon"),ae=oe[0],re=oe[1];function ue(t,e,i,n){function s(t){Object(z["a"])(n,"click",t),Object(se["a"])(n)}return t("div",b()([{attrs:{role:"button",tabindex:"0"},class:[re(),"van-hairline"],on:{click:s}},Object(z["b"])(n)]),[i.icon?t("div",{class:re("icon")},[i.icon()]):t(B["a"],{class:[re("icon"),e.iconClass],attrs:{tag:"div",info:e.info,name:e.icon}}),i.default?i.default():e.text])}ue.props=Object(r["a"])({},se["b"],{text:String,icon:String,info:[String,Number],iconClass:null});var ce=ae(ue),le=(i("b1f5"),Object(c["a"])("goods-action-button")),he=le[0],fe=le[1];function de(t,e,i,n){function s(t){Object(z["a"])(n,"click",t),Object(se["a"])(n)}return t(qt["a"],b()([{attrs:{square:!0,size:"large",type:e.type,loading:e.loading,disabled:e.disabled},class:fe(),on:{click:s}},Object(z["b"])(n)]),[i.default?i.default():e.text])}de.props=Object(r["a"])({},se["b"],{type:String,text:String,loading:Boolean,disabled:Boolean});var pe=he(de),me=i("834f"),ve=i("2f62");u["a"].use(ne).use(ce).use(pe),u["a"].use(Jt),u["a"].use(a["a"]);var ge={data:function(){return{title:"",rating:"",show:!1,goods:{title:"测试商品",picture:"https://img.yzcdn.cn/1.jpg"},initialSku:{s1:"30349",s2:"1193",selectedNum:3},sku:{tree:[{k:"颜色",v:[{id:"30349",name:"红色",imgUrl:"https://img.yzcdn.cn/1.jpg"},{id:"1215",name:"蓝色",imgUrl:"https://img.yzcdn.cn/2.jpg"}],k_s:"s1"}],list:[{id:2259,price:100,s1:"1215",s2:"1193",s3:"0",stock_num:110}],price:"1.00",stock_num:227,collection_id:2261,none_sku:!1,messages:[{datetime:"0",multiple:"0",name:"留言",type:"text",required:"1"}],hide_stock:!1}}},components:{Rating:me["a"]},computed:Object(o["a"])({},Object(ve["d"])({loginState:"loginState",list:"list"}),Object(ve["c"])({len:"len"})),mounted:function(){var t=this,e=this.$route.params.id;console.log(e),fetch("https://www.daxunxun.com/detail?id="+e).then(function(t){return t.json()}).then(function(e){console.log(e[0]),t.title=e[0].title,t.rating=e[0].rating.average})},methods:{chat:function(){console.log("客服")},goCart:function(){console.log("去购物车")},goShop:function(){console.log("店铺")},addCart:function(){var t=this.$store.state.loginState;"ok"===t?console.log("加入购物车"):this.$router.push("/login")},buy:function(){"ok"===this.loginState?console.log("立即购买"):this.$router.push("/login")},back:function(){this.$router.back()},share:function(){console.log("分享")}}},be=ge,ke=(i("b46b"),i("2877")),Se=Object(ke["a"])(be,n,s,!1,null,null,null);e["default"]=Se.exports},"834f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rating"},[t._v("\n  "+t._s(t.rating)+"\n  "),i("span",{staticClass:"iconfont icon-wujiaoxing",class:t.rating>.5?"active":""}),i("span",{staticClass:"iconfont icon-wujiaoxing",class:t.rating>1.5?"active":""}),i("span",{staticClass:"iconfont icon-wujiaoxing",class:t.rating>2.5?"active":""}),i("span",{staticClass:"iconfont icon-wujiaoxing",class:t.rating>3.5?"active":""}),i("span",{staticClass:"iconfont icon-wujiaoxing",class:t.rating>4.5?"active":""})])},s=[],o={props:{rating:String}},a=o,r=(i("f8cd"),i("2877")),u=Object(r["a"])(a,n,s,!1,null,null,null);e["a"]=u.exports},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},9003:function(t,e,i){var n=i("6b4c");t.exports=Array.isArray||function(t){return"Array"==n(t)}},9138:function(t,e,i){t.exports=i("35e8")},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a159:function(t,e,i){var n=i("e4ae"),s=i("7e90"),o=i("1691"),a=i("5559")("IE_PROTO"),r=function(){},u="prototype",c=function(){var t,e=i("1ec9")("iframe"),n=o.length,s="<",a=">";e.style.display="none",i("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(s+"script"+a+"document.F=Object"+s+"/script"+a),t.close(),c=t.F;while(n--)delete c[u][o[n]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(r[u]=n(t),i=new r,r[u]=null,i[a]=t):i=c(),void 0===e?i:s(i,e)}},a4bb:function(t,e,i){t.exports=i("8aae")},a724:function(t,e,i){},b1f5:function(t,e,i){},b447:function(t,e,i){var n=i("3a38"),s=Math.min;t.exports=function(t){return t>0?s(n(t),9007199254740991):0}},b46b:function(t,e,i){"use strict";var n=i("0b9f"),s=i.n(n);s.a},b7a6:function(t,e,i){},b8e3:function(t,e){t.exports=!0},bf0b:function(t,e,i){var n=i("355d"),s=i("aebd"),o=i("36c3"),a=i("1bc3"),r=i("07e3"),u=i("794b"),c=Object.getOwnPropertyDescriptor;e.f=i("8e60")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(i){}if(r(t,e))return s(!n.f.call(t,e),t[e])}},bf90:function(t,e,i){var n=i("36c3"),s=i("bf0b").f;i("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return s(n(t),e)}})},c3a1:function(t,e,i){var n=i("e6f3"),s=i("1691");t.exports=Object.keys||function(t){return n(t,s)}},ccb9:function(t,e,i){e.f=i("5168")},ce7e:function(t,e,i){var n=i("63b6"),s=i("584a"),o=i("294c");t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},cebc:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("268f"),s=i.n(n),o=i("e265"),a=i.n(o),r=i("a4bb"),u=i.n(r),c=i("bd86");function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=u()(i);"function"===typeof a.a&&(n=n.concat(a()(i).filter(function(t){return s()(i,t).enumerable}))),n.forEach(function(e){Object(c["a"])(t,e,i[e])})}return t}},dbdb:function(t,e,i){var n=i("584a"),s=i("e53d"),o="__core-js_shared__",a=s[o]||(s[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},e265:function(t,e,i){t.exports=i("ed33")},e6f3:function(t,e,i){var n=i("07e3"),s=i("36c3"),o=i("5b4e")(!1),a=i("5559")("IE_PROTO");t.exports=function(t,e){var i,r=s(t),u=0,c=[];for(i in r)i!=a&&n(r,i)&&c.push(i);while(e.length>u)n(r,i=e[u++])&&(~o(c,i)||c.push(i));return c}},ebfd:function(t,e,i){var n=i("62a0")("meta"),s=i("f772"),o=i("07e3"),a=i("d9f6").f,r=0,u=Object.isExtensible||function(){return!0},c=!i("294c")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,n,{value:{i:"O"+ ++r,w:{}}})},h=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[n].i},f=function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[n].w},d=function(t){return c&&p.NEED&&u(t)&&!o(t,n)&&l(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},ed33:function(t,e,i){i("014b"),t.exports=i("584a").Object.getOwnPropertySymbols},f41d:function(t,e,i){},f8cd:function(t,e,i){"use strict";var n=i("b7a6"),s=i.n(n);s.a},fde4:function(t,e,i){i("bf90");var n=i("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-2ed29ec5.d5f9071e.js.map